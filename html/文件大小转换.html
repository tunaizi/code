<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      function transBitSize(valueStr) {
        const sizeUnits = [
          {
            key: "bit",
            set: function (value) {
              value = parseFloat(value);
              return {
                bit: value,
                bytes: value / 8,
                kb: value / 8 / 1024,
                mb: value / 8 / 1024 / 1024,
                gb: value / 8 / 1024 / 1024 / 1024,
                tb: value / 8 / 1024 / 1024 / 1024 / 1024
              };
            }
          },
          {
            key: "bytes",
            set: function (value) {
              value = parseFloat(value);
              return {
                bit: value * 8,
                bytes: value,
                kb: value / 1024,
                mb: value / 1024 / 1024,
                gb: value / 1024 / 1024 / 1024,
                tb: value / 1024 / 1024 / 1024 / 1024
              };
            }
          },
          {
            key: "kb",
            set: function (value) {
              value = parseFloat(value);
              return {
                bit: value * 8 * 1024,
                bytes: value * 1024,
                kb: value,
                mb: value / 1024,
                gb: value / 1024 / 1024,
                tb: value / 1024 / 1024 / 1024
              };
            }
          },
          {
            key: "mb",
            set: function (value) {
              value = parseFloat(value);
              return {
                bit: value * 8 * 1024 * 1024,
                bytes: value * 1024 * 1024,
                kb: value * 1024,
                mb: value,
                gb: value / 1024,
                tb: value / 1024 / 1024
              };
            }
          },
          {
            key: "gb",
            set: function (value) {
              value = parseFloat(value);
              return {
                bit: value * 8 * 1024 * 1024 * 1024,
                bytes: value * 1024 * 1024 * 1024,
                kb: value * 1024 * 1024,
                mb: value * 1024,
                gb: value,
                tb: value / 1024
              };
            }
          },
          {
            key: "tb",
            set: function (value) {
              value = parseFloat(value);
              return {
                bit: value * 8 * 1024 * 1024 * 1024 * 1024,
                bytes: value * 1024 * 1024 * 1024 * 1024,
                kb: value * 1024 * 1024 * 1024,
                mb: value * 1024 * 1024,
                gb: value * 1024,
                tb: value
              };
            }
          }
        ];

        const reg =
          /([\d]+\.?[\d]*)?\s*([Bb][iI][tT]|[Bb][Yy][Tt][Ee][Ss]|[Kk][Bb]|[Mm][Bb]|[Gg][Bb]|[Tt][Bb]|[Gg]|[Kk]|[Mm]|[Tt])?[\w]?/g;
        reg.test(valueStr);
        let value = Number(RegExp.$1);
        let unit = String(RegExp.$2).toLowerCase();
        console.log(value, unit);
        if (value && value > 0 && unit) {
          unit = unit.length === 1 ? unit + "b" : unit;
          const { set = null } = sizeUnits.find(e => e.key === unit);
          return set ? set(value) : set;
        }
      }

   
      console.log(transBitSize("32   m   sdsss  "));
      console.log(transBitSize("32   k   sdsss  "));
      console.log(transBitSize("32   bytes   sdsss  "));
      console.log(transBitSize("32   bit   sdsss  "));
      console.log(transBitSize("32   BiT   sdsss  "));
    </script>
  </body>
</html>
